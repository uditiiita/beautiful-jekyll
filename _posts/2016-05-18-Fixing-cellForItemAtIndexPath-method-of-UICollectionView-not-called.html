---
layout: post
title: Fixing cellForItemAtIndexPath method of UICollectionView not called
redirect-from:
- /2015/02/fixing-cellforitematindexpath-method-of.html
date: '2015-02-25T06:13:00.002-08:00'
author: Udit
tags:
- Objective-C
- iOS
- swift
- UICollectionViewDataSource
- UICollectionViewFlowLayout
- UICollectionView
- UICollectionViewCell
- XCode
modified_time: '2016-05-17T23:59:54.833-07:00'
thumbnail: https://1.bp.blogspot.com/-1F-UZd5Ar-4/VO3WdTCobGI/AAAAAAAABRI/6p3sS6uDh_E/s72-c/Screenshot%2B2015-02-25%2B19.33.29.png
---


<div dir="ltr" style="text-align: left;" trbidi="on"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">I have been coding in iOS for around 1.5 years now and during this journey of developing Cocoa View Controllers, I had to deal with <span style="background-color: #eeeeee;">UICollectionView</span> many times.&nbsp;</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">I had always tried to avoid using collection view because of the complexities&nbsp;</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">As per my experience in dealing with <span style="background-color: #eeeeee;">UICollectionView</span>, it is one of the most typical control in Cocoa library. You will encounter too many bugs/errors while trying to incorporate it into your app. Most of the times it happens that we have completed connecting all the parts of collectionView like implementing its <span style="background-color: #eeeeee;">dataSource, delegate</span>, etc. but it is still not working.&nbsp;</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">Same thing happened again to me recently. I was trying to use collection view while developing a new app called "<b>News hub</b>", I will provide details about this app in some other post(After releasing it ;)), and I implemented everything required but still collection view was not shown.</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">I tried to debug the problem. What I found was:</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">* <span style="background-color: #eeeeee;">delegate</span> and <span style="background-color: #eeeeee;">dataSource</span> were correctly setup.</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">* <span style="background-color: #eeeeee;">dataSource's</span> method <span style="background-color: #eeeeee;">numberOfSections</span> was returning correct number (in my case, it was returning <b>1</b> because I had only one section.)</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">* <span style="background-color: #eeeeee;">dataSource's</span> method <span style="background-color: #eeeeee;">numberOfItemsInSection:</span> was being called correctly and it also returned valid number (in my case it is '<b>4</b>')</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">* But the strange thing was that, <span style="background-color: #eeeeee;">dataSource's</span> method <span style="background-color: #eeeeee;">cellForItemAtIndexPath:</span> was <b>not</b> being called.</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">* What I knew till that day was, if the <span style="background-color: #eeeeee;">numberOfItemsInSection:</span> method returns value greater that 0, then <span style="background-color: #eeeeee;">cellForItemAtIndexPath:</span> will definitely get called.</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">In my case <span style="background-color: #eeeeee;">numberOfItemsInSection:</span> was returning 4 and yet <span style="background-color: #eeeeee;">cellForItemAtIndexPath:</span> method was not getting called.</span><br /><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">I tried to debug more and then I found the final solution:</span><br /><h3 style="text-align: left;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">Final solution:</span></h3><div style="border: 0px; clear: both; color: #222222; font-size: 15px; line-height: 19.5px; margin-bottom: 1em; padding: 0px;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: #eeeeee;">cellForItemAtIndexPath:</span><span style="background-color: transparent;"> method&nbsp;</span><span style="background-color: white;">was not being called because of the </span><span style="background-color: #eeeeee;"><b>itemSize</b></span><span style="background-color: white;"> for the </span><span style="background-color: #eeeeee;">collectionViewFlowLayout's</span><span style="background-color: white;"> width was <b>zero</b> (yeah "0").</span></span></div><div style="border: 0px; clear: both; color: #222222; font-size: 15px; line-height: 19.5px; margin-bottom: 1em; padding: 0px;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: white;">So, to fix this, I implemented </span><span style="background-color: #eeeeee;">UICollectionViewLayout's</span><span style="background-color: white;"> method:&nbsp;</span></span></div><div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-1F-UZd5Ar-4/VO3WdTCobGI/AAAAAAAABRI/6p3sS6uDh_E/s1600/Screenshot%2B2015-02-25%2B19.33.29.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><img border="0" height="129" src="https://1.bp.blogspot.com/-1F-UZd5Ar-4/VO3WdTCobGI/AAAAAAAABRI/6p3sS6uDh_E/s1600/Screenshot%2B2015-02-25%2B19.33.29.png" width="640" /></span></a></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">Now this method is called for every cell to be shown in the collection view. It returns the valid width of "100 pixels". Now my <span style="background-color: #eeeeee;">cellForRowAtIndexPath:</span> Also gets called.</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><br /></span></div><h4 style="clear: both; text-align: left;"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">Some more insight</span></h4></div><blockquote class="tr_bq"><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;">One more thing I got to know while fixing this bug is that&nbsp;</span><span style="font-family: &quot;helvetica neue&quot; , &quot;arial&quot; , &quot;helvetica&quot; , sans-serif;"><span style="background-color: #eeeeee;">cellForRowAtIndexPath:</span> is also not called if the size of the collection view cell returned is more that the collection view itself.</span></blockquote></div>